<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/2021/06/18/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>Vue根据开票数量动态生成多个表单</title>
    <url>/2021/06/23/skb/</url>
    <content><![CDATA[<h2 id="页面样式图片"><a href="#页面样式图片" class="headerlink" title="页面样式图片"></a>页面样式图片</h2><p><strong>页面样式图片</strong></p>
<p><img src="/images/kp.png" alt="开票弹窗页面"></p>
<h2 id="利用递归实现深拷贝"><a href="#利用递归实现深拷贝" class="headerlink" title="利用递归实现深拷贝"></a>利用递归实现深拷贝</h2><h2 id="1-创建一个函数"><a href="#1-创建一个函数" class="headerlink" title="1.创建一个函数"></a>1.创建一个函数</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cloneObj(obj) &#123;</span><br><span class="line">  <span class="built_in">let</span> ret;</span><br><span class="line">  <span class="keyword">if</span> (Array.isArray(obj)) &#123;</span><br><span class="line">    ret = []  // 如果是一个数组的话</span><br><span class="line">    <span class="keyword">for</span> (i = 0; i &lt; ret.length; i++) &#123;// 将result赋值为一个数组，并且执行遍历</span><br><span class="line">      ret[i] = this.cloneObj(obj[i])  // 递归克隆数组中的每一项</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> ret;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (Object.prototype.toString.call(obj) === <span class="string">&#x27;[object Object]&#x27;</span>) &#123;  // 否则是普通对象，直接<span class="keyword">for</span> <span class="keyword">in</span>循环，递归赋值对象的所有值</span><br><span class="line">    ret = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">let</span> i <span class="keyword">in</span> obj) &#123;</span><br><span class="line">      ret[i] = this.cloneObj(obj[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> ret;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="2-触发方法将变量传入函数"><a href="#2-触发方法将变量传入函数" class="headerlink" title="2.触发方法将变量传入函数"></a>2.触发方法将变量传入函数</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//根据开票数量生成多个form表单</span><br><span class="line">addPdfFile(val) &#123;</span><br><span class="line">  var reg = /^([1-9]|10)$/;</span><br><span class="line">  <span class="keyword">if</span> (!val.match(reg)) &#123;</span><br><span class="line">    this.<span class="variable">$message</span>(<span class="string">&#x27;请输入大于0且小于等于10是数字&#x27;</span>);</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    this.addTzArr = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">let</span> i = 0; i &lt; val; i++) &#123;</span><br><span class="line">      <span class="built_in">let</span> arr = this.cloneObj(this.addform);</span><br><span class="line">      this.addTzArr.push(arr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">addDomain(index) &#123;</span><br><span class="line">  this.addTzArr[index].items.push(&#123;</span><br><span class="line">    xmmc: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    xmjshj: <span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">removeDomain(index, item) &#123;</span><br><span class="line">  var ids = this.addTzArr[index].items.indexOf(item);</span><br><span class="line">  <span class="keyword">if</span> (ids !== -1) &#123;</span><br><span class="line">    this.addTzArr[index].items.splice(ids, 1);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="2-1代码"><a href="#2-1代码" class="headerlink" title="2.1代码"></a>2.1代码</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;el-dialog</span><br><span class="line">  v-dialogDrag</span><br><span class="line">  :title=<span class="string">&quot;title&quot;</span></span><br><span class="line">  :visible.sync=<span class="string">&quot;open4&quot;</span></span><br><span class="line">  width=<span class="string">&quot;800px&quot;</span></span><br><span class="line">  append-to-body</span><br><span class="line">  :close-on-click-modal=<span class="string">&quot;false&quot;</span></span><br><span class="line">&gt;</span><br><span class="line">  &lt;el-descriptions</span><br><span class="line">    :title=<span class="string">&quot;</span></span><br><span class="line"><span class="string">      `<span class="variable">$&#123;</span></span></span><br><span class="line"><span class="variable"><span class="string">        makeMessage.version == 0</span></span></span><br><span class="line"><span class="variable"><span class="string">          ? &#x27;此开票信息为首次开票&#x27;</span></span></span><br><span class="line"><span class="variable"><span class="string">          : makeMessage.version &gt; 0</span></span></span><br><span class="line"><span class="variable"><span class="string">          ? &#x27;此开票信息已进行过&#x27; + makeMessage.version + &#x27;次开票&#x27;</span></span></span><br><span class="line"><span class="variable"><span class="string">          : &#x27;&#x27;</span></span></span><br><span class="line"><span class="variable"><span class="string">      &#125;</span>`</span></span><br><span class="line"><span class="string">    &quot;</span></span><br><span class="line">    direction=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">    :column=<span class="string">&quot;4&quot;</span></span><br><span class="line">    border</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;纳税人识别号&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      makeMessage.taxNumber</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;开户银行&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      makeMessage.depositBank</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;开户账户&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      makeMessage.account</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;电话&quot;</span>&gt;</span><br><span class="line">      &#123;&#123; makeMessage.telephoneNumber &#125;&#125;</span><br><span class="line">    &lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;发票抬头&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      makeMessage.invoiceTitle</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;开票地址&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      makeMessage.billingAddress</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">  &lt;/el-descriptions&gt;</span><br><span class="line">  &lt;el-descriptions</span><br><span class="line">    direction=<span class="string">&quot;vertical&quot;</span></span><br><span class="line">    :column=<span class="string">&quot;4&quot;</span></span><br><span class="line">    border</span><br><span class="line">    style=<span class="string">&quot;margin-top:20px&quot;</span></span><br><span class="line">  &gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;发票类型&quot;</span>&gt;</span><br><span class="line">      &lt;el-tag</span><br><span class="line">        v-for=<span class="string">&quot;item in invoiceOptions&quot;</span></span><br><span class="line">        :key=<span class="string">&quot;item.dictLabel&quot;</span></span><br><span class="line">        :<span class="built_in">type</span>=<span class="string">&quot;item.listClass&quot;</span></span><br><span class="line">        v-if=<span class="string">&quot;item.dictValue == moneyMessage.invoiceType&quot;</span></span><br><span class="line">      &gt;</span><br><span class="line">        &#123;&#123; item.dictLabel &#125;&#125;</span><br><span class="line">      &lt;/el-tag&gt;</span><br><span class="line">    &lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;社保金额&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.socialSecurityAmount</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;公积金金额&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.reserveFundAmount</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;残保金金额&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.disabilityInsuranceAmount</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;工资金额&quot;</span>&gt;</span><br><span class="line">      &#123;&#123; moneyMessage.payAmount &#125;&#125;</span><br><span class="line">    &lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;个税&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.taxAmount</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;工资及个税&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.payAndTaxAmount</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;服务费&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.serviceCharge</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;福利费&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.welfareExpenses</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;其他&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.otherAmount</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">    &lt;el-descriptions-item label=<span class="string">&quot;合计&quot;</span>&gt;&#123;&#123;</span><br><span class="line">      moneyMessage.allAmount</span><br><span class="line">    &#125;&#125;&lt;/el-descriptions-item&gt;</span><br><span class="line">  &lt;/el-descriptions&gt;</span><br><span class="line">  &lt;div class=<span class="string">&quot;demo-input-suffix&quot;</span> style=<span class="string">&quot;margin-top:20px&quot;</span>&gt;</span><br><span class="line">    开票数量：</span><br><span class="line">    &lt;el-input</span><br><span class="line">      v-model.number=<span class="string">&quot;num&quot;</span></span><br><span class="line">      placeholder=<span class="string">&quot;请输入开票数量&quot;</span></span><br><span class="line">      style=<span class="string">&quot;width: 90%&quot;</span></span><br><span class="line">      <span class="built_in">type</span>=<span class="string">&quot;number&quot;</span></span><br><span class="line">      @change=<span class="string">&quot;addPdfFile&quot;</span></span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;el-tabs</span><br><span class="line">    v-model=<span class="string">&quot;active&quot;</span></span><br><span class="line">    <span class="built_in">type</span>=<span class="string">&quot;card&quot;</span></span><br><span class="line">    @tab-click=<span class="string">&quot;handleClickActive&quot;</span></span><br><span class="line">    style=<span class="string">&quot;margin-top:20px&quot;</span></span><br><span class="line">  &gt;</span><br><span class="line">    &lt;el-tab-pane</span><br><span class="line">      v-for=<span class="string">&quot;(item, index) in addTzArr&quot;</span></span><br><span class="line">      :label=<span class="string">&quot;index + &#x27;&#x27;&quot;</span></span><br><span class="line">      :name=<span class="string">&quot;index + &#x27;&#x27;&quot;</span></span><br><span class="line">    &gt;</span><br><span class="line">      &lt;el-form</span><br><span class="line">        v-loading=<span class="string">&quot;loading&quot;</span></span><br><span class="line">        ref=<span class="string">&quot;addform&quot;</span></span><br><span class="line">        :model=<span class="string">&quot;addform&quot;</span></span><br><span class="line">        :rules=<span class="string">&quot;rules&quot;</span></span><br><span class="line">        label-width=<span class="string">&quot;100px&quot;</span></span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-form-item label=<span class="string">&quot;发票类型&quot;</span> prop=<span class="string">&quot;fplx&quot;</span>&gt;</span><br><span class="line">          &lt;el-select</span><br><span class="line">            v-model=<span class="string">&quot;item.fplx&quot;</span></span><br><span class="line">            placeholder=<span class="string">&quot;请选择发票类型&quot;</span></span><br><span class="line">            style=<span class="string">&quot;width: 100%&quot;</span></span><br><span class="line">          &gt;</span><br><span class="line">            &lt;el-option</span><br><span class="line">              v-for=<span class="string">&quot;dict in fplxOptions&quot;</span></span><br><span class="line">              :key=<span class="string">&quot;dict.dictValue&quot;</span></span><br><span class="line">              :label=<span class="string">&quot;dict.dictLabel&quot;</span></span><br><span class="line">              :value=<span class="string">&quot;dict.dictValue&quot;</span></span><br><span class="line">            /&gt;</span><br><span class="line">          &lt;/el-select&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;div v-for=<span class="string">&quot;(items, key) in item.items&quot;</span>&gt;</span><br><span class="line">          &lt;el-row&gt;</span><br><span class="line">            &lt;el-col :span=<span class="string">&quot;12&quot;</span>&gt;</span><br><span class="line">              &lt;el-form-item</span><br><span class="line">                :label=<span class="string">&quot;&#x27;第&#x27; + (key + 1) + &#x27;商品名称&#x27;&quot;</span></span><br><span class="line">                :key=<span class="string">&quot;key&quot;</span></span><br><span class="line">              &gt;</span><br><span class="line">                &lt;span&gt;*人力资源服务*&lt;/span&gt;</span><br><span class="line">                &lt;el-input</span><br><span class="line">                  v-model=<span class="string">&quot;items.xmmc&quot;</span></span><br><span class="line">                  placeholder=<span class="string">&quot;请输入商品名称&quot;</span></span><br><span class="line">                  style=<span class="string">&quot;width: 60%;&quot;</span></span><br><span class="line">                /&gt;</span><br><span class="line">              &lt;/el-form-item&gt;</span><br><span class="line">            &lt;/el-col&gt;</span><br><span class="line">            &lt;el-col :span=<span class="string">&quot;12&quot;</span>&gt;</span><br><span class="line">              &lt;el-form-item</span><br><span class="line">                :label=<span class="string">&quot;&#x27;第&#x27; + (key + 1) + &#x27;价税合计&#x27;&quot;</span></span><br><span class="line">                :key=<span class="string">&quot;key&quot;</span></span><br><span class="line">              &gt;</span><br><span class="line">                &lt;el-input</span><br><span class="line">                  v-model=<span class="string">&quot;items.xmjshj&quot;</span></span><br><span class="line">                  placeholder=<span class="string">&quot;请输入价税合计&quot;</span></span><br><span class="line">                  style=<span class="string">&quot;width: 70%; margin-right: 10px&quot;</span></span><br><span class="line">                /&gt;</span><br><span class="line">                &lt;el-button @click.prevent=<span class="string">&quot;removeDomain(index, items)&quot;</span></span><br><span class="line">                  &gt;删除&lt;/el-button</span><br><span class="line">                &gt;</span><br><span class="line">              &lt;/el-form-item&gt;</span><br><span class="line">            &lt;/el-col&gt;</span><br><span class="line">          &lt;/el-row&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;el-button</span><br><span class="line">          style=<span class="string">&quot;float:right;margin-&quot;</span></span><br><span class="line">          <span class="built_in">type</span>=<span class="string">&quot;primary&quot;</span></span><br><span class="line">          @click=<span class="string">&quot;addDomain(index)&quot;</span></span><br><span class="line">          &gt;新 增&lt;/el-button</span><br><span class="line">        &gt;</span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line">    &lt;/el-tab-pane&gt;</span><br><span class="line">  &lt;/el-tabs&gt;</span><br><span class="line">  &lt;div slot=<span class="string">&quot;footer&quot;</span> class=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span><br><span class="line">    &lt;el-button <span class="built_in">type</span>=<span class="string">&quot;primary&quot;</span> @click=<span class="string">&quot;submitFormMake&quot;</span>&gt;确认开票&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button <span class="built_in">type</span>=<span class="string">&quot;warning&quot;</span> @click=<span class="string">&quot;submitFormReject&quot;</span>&gt;驳回&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button @click=<span class="string">&quot;cancel&quot;</span>&gt;取 消&lt;/el-button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/el-dialog&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-2定义变量"><a href="#2-2定义变量" class="headerlink" title="2.2定义变量"></a>2.2定义变量</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">addTzArr: [],</span><br><span class="line">addform: &#123;&#125;,</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>web前端</category>
      </categories>
      <tags>
        <tag>深拷贝</tag>
        <tag>Vue</tag>
        <tag>element-ui</tag>
      </tags>
  </entry>
</search>
